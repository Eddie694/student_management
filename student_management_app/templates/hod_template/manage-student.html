{% extends 'hod_base.html' %}
{% block content %}


    <!-- Main section start -->
    <div class="main-content" id="maincontent">
      <div class="main-container">
        <!-- chart card start -->
        <div class="chart-card manage-staff-title">

          <h2>Manage Student</h2>
          <a href="{% url 'student_management_app:add_student' %}"><button type="button" class="btn btn-primary mt-4">Add Student</button></a>

        </div> 
        <!-- chart card end -->
        <br>
        {% for message in messages %}
        <div class="alert alert-warning alert-dismissible fade show" role="alert">
            <h6 style="color:red;">{{message}}</h6>
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <!-- chart card end -->


        <!-- activities session start-->
        <div class="activities-section mt-4">
          <div class="manage-staff">
            <div class="table-title md-6">
              <h3>Student Details</h3>
            </div>
            <div class="search md-4">
              <form class="d-flex" role="search">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success" type="submit">Search</button>
              </form>
            </div>
          </div>
          <hr>

          <table class="table  activity">
            <thead>
              <tr>
                <th scope="col">S/N</th>
                <th scope="col">First Name</th>
                <th scope="col">Last Name</th>
                <th scope="col">Course</th>
                <th scope="col">Subject</th>
                <th scope="col">Action</th>
                <th scope="col">Action 2</th>

              </tr>
            </thead>
            <tbody>
              {% for student in students %}
              <tr>
                <th scope="row">{{student.id}}</th>
                <td>{{student.admin.first_name}}</td>
                <td>{{student.admin.last_name}}</td>
                <td>
                  {% if student.course_id %}
                    {{ student.course_id.course_name }}
                  {% else %}
                    No course yet
                  {% endif %}
                </td>
                <td>
                  {% if student.course_id.subject_set.all %}
                    {{ student.course_id.subject_set.all.count }}
                  {% else %}
                    0
                  {% endif %}
                </td>
                <td><a href=""><button type="button" class="btn btn-primary">Edit</button></a></td>
                <td><a href=""><button type="button" class="btn btn-danger">Delete</button></a></td>

              </tr>
              {% endfor %}
             
            </tbody>
          </table>
        </div>

        <!-- activities session end-->
      </div>





    </div>
    <!-- Main section stop -->

  </div>
  <!-- container-section stop -->


{% endblock %}









  